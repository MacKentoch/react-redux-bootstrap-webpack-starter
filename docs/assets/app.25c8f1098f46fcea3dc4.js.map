{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/front/Root.tsx","webpack:///./src/front/components/backToTop/BackToTop.js","webpack:///./src/front/components/backToTop/backToTopButton/BackToTopButton.js","webpack:///./src/front/components/backToTop/backToTopButton/UpIcon.js","webpack:///./src/front/components/backToTop/backToTopButton/styled/WithRightMargin.js","webpack:///./src/front/components/logoutRoute/LogoutRoute.js","webpack:///./src/front/components/logoutRoute/index.js","webpack:///./src/front/components/navigation/NavigationBar.js","webpack:///./src/front/components/navigation/index.js","webpack:///./src/front/components/privateRoute/PrivateRoute.js","webpack:///./src/front/components/privateRoute/index.js","webpack:///./src/front/components/scrollToTop/ScrollToTop.js","webpack:///./src/front/config/appConfig.js","webpack:///./src/front/config/navigation.js","webpack:///./src/front/index.js","webpack:///./src/front/layout/MainLayout/MainLayout.js","webpack:///./src/front/layout/MainLayout/index.js","webpack:///./src/front/redux/middleware/fetchMiddleware.js","webpack:///./src/front/redux/modules/fakeModuleWithFetch/index.js","webpack:///./src/front/redux/modules/reducers.js","webpack:///./src/front/redux/modules/userAuth/index.js","webpack:///./src/front/redux/store/configureStore.dev.ts","webpack:///./src/front/redux/store/configureStore.ts","webpack:///./src/front/routes/MainRoutes.js","webpack:///./src/front/routes/routes.js","webpack:///./src/front/services/API/fetchTools.js","webpack:///./src/front/services/auth/index.js","webpack:///./src/front/services/sw/registerServiceWorker.js","webpack:///./src/front/style/GlobalStyles.ts"],"names":["BackToTop","minScrollY","onScrollDone","useState","showBackButton","setShowBackButton","windowScrollY","setWindowScrollY","tickingScollObserve","setTickingScollObserve","handleWindowScroll","window","currentWindowScrollY","pageYOffset","undefined","document","documentElement","body","parentNode","scrollTop","requestAnimationFrame","shouldShowBackButton","handlesOnBackButtonClick","event","preventDefault","scroll","top","left","behavior","useEffect","addEventListener","unsubscribeEvents","removeEventListener","x","spring","presets","stiff","WebkitTransform","transform","displayName","defaultProps","defaultBackGroundColor","sideOffset","bottomOffset","defaultWidth","defaultZindex","defaultOpacity","defaultStyle","position","right","bottom","width","zIndex","opacity","backgroundColor","BackToTopButton","onClick","children","motionStyle","buttonStyle","setPosition","cx","btn","refStyle","style","UpIcon","color","WithRightMargin","styled","div","LogoutRoute","props","disconnectUser","pathname","mapStateToProps","state","mapDispatchToProps","dispatch","bindActionCreators","userAuthActions","compose","connect","withRouter","NavigationBar","brand","rightLinks","navModel","isAuthenticated","history","isOpen","setIsOpen","toggle","evt","handlesNavItemClick","link","push","handlesDisconnect","map","index","label","viewName","token","userAuth","PrivateRoute","InnerComponent","component","rest","location","checkUserIsConnected","from","Component","useScrollToTopOnLocationChange","prevLocation","useRef","current","scrollTo","ScrollToTop","appConfig","Object","freeze","DEV_MODE","api","fakeEndPoint","users","sw","path","navigation","leftLinks","view","isRouteBtn","ELEMENT_TO_BOOTSTRAP","bootstrapedElement","getElementById","smoothScrollPolyfill","polyfill","__forceSmoothScrollPolyfill__","snapSaveState","getState","renderApp","RootComponent","Application","hasChildNodes","loadComponents","then","hydrate","render","Root","module","MainLayout","match","registerServiceWorker","handleLeftNavItemClick","useCallback","handleRightNavItemClick","navigationModel","FETCH_MOCK","FETCH","fetchMiddleware","store","next","action","fetch","type","actionTypes","mockResult","Error","request","success","Promise","resolve","payload","status","data","fail","url","method","headers","options","axios","withCredentials","Accept","catch","err","error","response","reject","REQUEST_FAKE_FETCH","RECEIVED_FAKE_FETCH","ERROR_FAKE_FETCH","initialState","isFetching","actionTime","currentTime","format","Date","fakeFetch","shouldFetchMock","fetchType","fakeData","getLocationOrigin","fakeFetchIfNeeded","shouldFakeFetch","fakeModuleWithFetch","reducers","combineReducers","REQUEST_USER_INFOS_DATA","RECEIVED_USER_INFOS_DATA","ERROR_USER_INFOS_DATA","REQUEST_LOG_USER","RECEIVED_LOG_USER","ERROR_LOG_USER","CHECK_IF_USER_IS_AUTHENTICATED","DISCONNECT_USER","isLogging","time","id","login","firstname","lastname","user","userInfos","auth","clearAllAppStorage","getToken","getUserInfo","checkUserHasId","obj","isExpired","isExpiredToken","logUser","password","FETCH_TYPE","__SOME_LOGIN_API__","userInfosMockData","credentials","logUserIfNeeded","email","shouldLogUser","fetchUserInfosData","authorization","fetchUserInfoDataIfNeeded","shouldFetchUserInfoData","MainRoutes","Home","About","Protected","Login","PageNotFound","loadable","origin","protocol","hostname","port","getMethod","postMethod","defaultOptions","jsonHeader","encodeBase64","stringToEncode","Base64","encode","TOKEN_KEY","USER_INFO","APP_PERSIST_STORES_TYPES","parse","JSON","stringify","fromStorage","tokenKey","localStorage","getItem","sessionStorage","setToken","value","toStorage","length","setItem","clearToken","storage","removeItem","getTokenExpirationDate","encodedToken","decode","exp","expirationDate","rightNow","isAfter","userInfoKey","setUserInfo","clearUserInfo","clear","swPath","navigator","serviceWorker","register","registration","console","log","registrationError"],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,kDAA0C;AAC1C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA,yCAAiC;;AAEjC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,cAAM;AACN;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAwB,kCAAkC;AAC1D,cAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;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","file":"app.25c8f1098f46fcea3dc4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".\" + \"25c8f1098f46fcea3dc4\" + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/front/index.js\",\"vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import * as React from 'react';\nimport { Component } from 'react';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { Switch, Route } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { ThemeProvider } from 'styled-components';\nimport configureStore from './redux/store/configureStore';\nimport { history } from './redux/store/configureStore';\nimport ScrollTop from './components/scrollToTop/ScrollToTop';\nimport MainLayout from './layout/MainLayout';\nimport MainRoutes from './routes/MainRoutes';\nimport { PageNotFound } from './routes/routes';\nimport * as userAuthActions from './redux/modules/userAuth';\nimport GlobalStyle from './style/GlobalStyles';\n\n// #region types\ntype Props = any;\ntype State = any;\n// #endregion\n\n// #region constants\nconst { store } = configureStore({});\n// #endregion\n\nclass Root extends Component<Props, State> {\n  componentDidMount() {\n    store.dispatch(userAuthActions.checkUserIsConnected());\n  }\n\n  componentDidCatch(error: any, info: any) {\n    console.log('error was catch by Root component: ', { error, info });\n  }\n\n  render() {\n    return (\n      <Provider store={store}>\n        <ThemeProvider theme={{}}>\n          <>\n            <ConnectedRouter history={history}>\n              <ScrollTop>\n                <Switch>\n                  <MainLayout>\n                    <MainRoutes />\n                  </MainLayout>\n                  <Route path=\"*\" component={PageNotFound} />\n                </Switch>\n              </ScrollTop>\n            </ConnectedRouter>\n            <GlobalStyle />\n          </>\n        </ThemeProvider>\n      </Provider>\n    );\n  }\n}\nexport default Root;\n","// @flow\n/* eslint-disable no-undefined */\n\nimport React, { useState, useEffect } from 'react';\nimport BackToTopButton from './backToTopButton/BackToTopButton';\nimport { Motion, spring, presets } from 'react-motion';\n\n// #region flow types\ntype Props = {\n  minScrollY: number,\n  scrollTo?: string,\n  onScrollDone?: () => any,\n};\n// #endregion\n\nfunction BackToTop({ minScrollY, onScrollDone }: Props) {\n  const [showBackButton, setShowBackButton] = useState(false);\n  const [windowScrollY, setWindowScrollY] = useState(0);\n  const [tickingScollObserve, setTickingScollObserve] = useState(false);\n\n  // #region on windows scroll callback\n  const handleWindowScroll = () => {\n    if (!window) {\n      return;\n    }\n\n    /* eslint-disable no-undefined */\n    const currentWindowScrollY =\n      window.pageYOffset !== undefined\n        ? window.pageYOffset\n        : // $FlowIgnore\n          (\n            document.documentElement ||\n            // $FlowIgnore\n            document.body.parentNode ||\n            document.body\n          ).scrollTop;\n    /* eslint-enable no-undefined */\n\n    // scroll event fires to often, using window.requestAnimationFrame to limit computations\n    if (!tickingScollObserve) {\n      window.requestAnimationFrame(() => {\n        if (windowScrollY !== currentWindowScrollY) {\n          const shouldShowBackButton =\n            currentWindowScrollY >= minScrollY ? true : false;\n\n          setWindowScrollY(currentWindowScrollY);\n          setShowBackButton(shouldShowBackButton);\n        }\n        setTickingScollObserve(false);\n      });\n    }\n\n    setTickingScollObserve(true);\n  };\n  // #endregion\n\n  // #region on button click (smooth scroll)\n  const handlesOnBackButtonClick = (event?: SyntheticEvent<*>) => {\n    event && event.preventDefault();\n    if (window && windowScrollY && windowScrollY > minScrollY) {\n      // using here smoothscroll-polyfill\n      window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n      // smoothScroll.scrollTo(scrollTo, this.scrollDone);\n    }\n  };\n\n  // const scrollDone = () => onScrollDone && onScrollDone();\n  // #endregion\n\n  // #region mount and unmount subscrubstions\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      window.addEventListener('scroll', handleWindowScroll);\n    }\n\n    return function unsubscribeEvents() {\n      if (typeof window !== 'undefined') {\n        window.removeEventListener('scroll', handleWindowScroll);\n      }\n    };\n  });\n  // #endregion\n\n  return (\n    // @ts-ignore\n    <Motion style={{ x: spring(showBackButton ? 0 : 120, presets.stiff) }}>\n      {({ x }) => (\n        <BackToTopButton\n          position={'bottom-right'}\n          onClick={handlesOnBackButtonClick}\n          motionStyle={{\n            WebkitTransform: `translate3d(${x}px, 0, 0)`,\n            transform: `translate3d(${x}px, 0, 0)`,\n          }}\n        />\n      )}\n    </Motion>\n  );\n}\n\nBackToTop.displayName = 'BackToTop';\n\nBackToTop.defaultProps = {\n  minScrollY: 120,\n  onScrollDone: () => {\n    return;\n  },\n};\n\nexport default BackToTop;\n","// @flow\n\nimport React from 'react';\nimport cx from 'classnames';\nimport UpIcon from './UpIcon';\nimport WithRightMargin from './styled/WithRightMargin';\n\n// #region flow types\ntype Props = {\n  position: 'bottom-left' | 'bottom-right',\n  onClick: (event: SyntheticEvent<>) => any,\n  children?: any,\n  motionStyle: any,\n};\n// #endregion\n\n// #region constants\nconst defaultBackGroundColor = '#4A4A4A';\nconst sideOffset = '-10px';\nconst bottomOffset = '40px';\nconst defaultWidth = '100px';\nconst defaultZindex = 10;\nconst defaultOpacity = 0.5;\nconst defaultStyle = {\n  position: 'fixed',\n  right: sideOffset,\n  left: '',\n  bottom: bottomOffset,\n  width: defaultWidth,\n  zIndex: defaultZindex,\n  opacity: defaultOpacity,\n  backgroundColor: defaultBackGroundColor,\n};\n// #endregion\n\nconst BackToTopButton = ({\n  onClick,\n  position,\n  children,\n  motionStyle,\n}: Props) => {\n  const buttonStyle = setPosition(position, {\n    ...motionStyle,\n    ...defaultStyle,\n  });\n\n  return (\n    <button\n      style={buttonStyle}\n      className={cx({\n        btn: true,\n      })}\n      onClick={onClick}\n    >\n      {!children && (\n        <WithRightMargin>\n          <UpIcon color={'#F1F1F1'} />\n        </WithRightMargin>\n      )}\n      {!!children && children}\n    </button>\n  );\n};\n\n// #region statics\nBackToTopButton.defaultProps = {\n  position: 'bottom-right',\n};\n\nBackToTopButton.displayName = 'BackToTopButton';\n// #endregion\n\n// #region helpers\nfunction setPosition(position = 'bottom-right', refStyle = defaultStyle): any {\n  const style = { ...refStyle };\n\n  switch (position) {\n    case 'bottom-right':\n      style.right = sideOffset;\n      style.left = '';\n      return style;\n\n    case 'bottom-left':\n      style.right = '';\n      style.left = sideOffset;\n      return style;\n\n    default:\n      return refStyle;\n  }\n}\n// #endregion\n\nexport default BackToTopButton;\n","// @flow\n\nimport React from 'react';\n\n// #region flow types\ntype Props = {\n  color: string,\n};\n// #endregion\n\nconst UpIcon = ({ color }: Props) => {\n  return (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 512 512\" fill={`${color}`}>\n      <path\n        d=\"M256,213.7L256,213.7L256,213.7l174.2,167.2c4.3,4.2,11.4,4.1,15.8-0.2l30.6-29.9c4.4-4.3,4.5-11.3,0.2-15.5L264.1,131.1\n      c-2.2-2.2-5.2-3.2-8.1-3c-3-0.1-5.9,0.9-8.1,3L35.2,335.3c-4.3,4.2-4.2,11.2,0.2,15.5L66,380.7c4.4,4.3,11.5,4.4,15.8,0.2L256,213.7z\"\n      />\n    </svg>\n  );\n};\n\n// #region statics\nUpIcon.defaultProps = {\n  color: '#F1F1F1',\n};\n\nUpIcon.displayName = 'UpIcon';\n// #endregion\n\nexport default UpIcon;\n","// @flow\n\nimport styled from 'styled-components';\n\nconst WithRightMargin = styled.div`\n  margin-right: 10px;\n`;\n\nexport default WithRightMargin;\n","// @flow\n\nimport React, { useEffect } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport {\n  type Match,\n  type Location,\n  type RouterHistory,\n} from 'react-router-dom';\nimport { type UserAuthActions } from '../../types/redux/userAuth';\n\n// #region flow types\ntype Props = {\n  // react-router 4:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n} & UserAuthActions;\n// #endregion\n\nfunction LogoutRoute(props: Props) {\n  const { disconnectUser } = props;\n  useEffect(() => disconnectUser());\n\n  return (\n    <Route {...props}>\n      <Redirect to={{ pathname: '/login' }} />\n    </Route>\n  );\n}\n\nexport default LogoutRoute;\n","// @flow\n\nimport { connect } from 'react-redux';\nimport { bindActionCreators, compose } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport * as userAuthActions from '../../redux/modules/userAuth';\nimport LogoutRoute from './LogoutRoute';\n\n// #region redux map state and dispatch to props\nconst mapStateToProps = state => {\n  return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({ ...userAuthActions }, dispatch);\n};\n// #endregion\n\nexport default compose(\n  // $FlowIgnore\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withRouter,\n)(LogoutRoute);\n","// @flow\n\n// #region imports\nimport React, { useState } from 'react';\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n} from 'reactstrap';\nimport {\n  type Match,\n  type Location,\n  type RouterHistory,\n} from 'react-router-dom';\nimport { type UserAuthActions } from '../../types/redux/userAuth';\nimport { type Link } from '../../config/navigation';\n// #endregion\n\n// #region flow types\ntype Props = {\n  // withRouter HOC:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n\n  // redux\n  token: string | null,\n  isAuthenticated: boolean,\n\n  // parent props:\n  brand: string,\n  handleLeftNavItemClick: (event: SyntheticEvent<>, viewName: string) => any,\n  handleRightNavItemClick: (event: SyntheticEvent<>, viewName: string) => any,\n  navModel: {\n    leftLinks: Array<Link>,\n    rightLinks: Array<Link>,\n  },\n\n  ...any,\n} & UserAuthActions;\n// #endregion\n\nfunction NavigationBar({\n  brand,\n  navModel: { rightLinks },\n  isAuthenticated,\n  history,\n  disconnectUser,\n}: Props) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  // #region navigation bar toggle\n  const toggle = (evt: SyntheticEvent<>) => {\n    evt && evt.preventDefault();\n    setIsOpen(!isOpen);\n  };\n  // #endregion\n\n  // #region handlesNavItemClick event\n  const handlesNavItemClick = (link: string = '/') => (\n    evt: SyntheticEvent<>,\n  ) => {\n    evt && evt.preventDefault();\n    history.push(link);\n  };\n  // #endregion\n\n  // #region disconnect\n  const handlesDisconnect = (evt: SyntheticEvent<>) => {\n    evt && evt.preventDefault();\n    disconnectUser();\n    history.push('/');\n  };\n  // #endregion\n\n  return (\n    <Navbar color=\"light\" light expand=\"md\">\n      <NavbarBrand href=\"/\">{brand}</NavbarBrand>\n      <NavbarToggler onClick={toggle} />\n      <Collapse isOpen={isOpen} navbar>\n        <Nav className=\"ml-auto\" navbar>\n          {rightLinks.map(({ label, link, viewName }, index) => (\n            <NavItem key={`${index}`}>\n              <NavLink href=\"#\" onClick={handlesNavItemClick(link)}>\n                {label}\n              </NavLink>\n            </NavItem>\n          ))}\n          {isAuthenticated && (\n            <NavItem>\n              <NavLink href=\"#\" onClick={handlesDisconnect}>\n                Disconnect\n              </NavLink>\n            </NavItem>\n          )}\n        </Nav>\n      </Collapse>\n    </Navbar>\n  );\n}\n\nNavigationBar.displayName = 'NavigationBar';\n\nexport default NavigationBar;\n","// @flow\n\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport compose from 'recompose/compose';\nimport { withRouter } from 'react-router-dom';\nimport * as userAuthActions from '../../redux/modules/userAuth';\nimport NavigationBar from './NavigationBar';\n\n// #region redux map state and dispatch to props\nconst mapStateToProps = state => {\n  return {\n    token: state.userAuth.token,\n    isAuthenticated: state.userAuth.isAuthenticated,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({ ...userAuthActions }, dispatch);\n};\n// #endregion\n\nexport default compose(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withRouter,\n)(NavigationBar);\n","// @flow\n\nimport React, { Component } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport {\n  type Match,\n  type Location,\n  type RouterHistory,\n} from 'react-router-dom';\nimport { type UserAuthActions } from '../../types/redux/userAuth';\n\n// #region flow types\ntype Props = {\n  // react-router 4:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n\n  // parent\n  component: any,\n  path: string,\n\n  ...any,\n} & UserAuthActions;\n\ntype State = any;\n// #endregion\n\nclass PrivateRoute extends Component<Props, State> {\n  // #region lifecycle\n  render() {\n    const { component: InnerComponent, ...rest } = this.props;\n    const { location, checkUserIsConnected } = this.props;\n\n    const { isAuthenticated } = checkUserIsConnected();\n\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isAuthenticated ? (\n            <InnerComponent {...props} />\n          ) : (\n            <Redirect to={{ pathname: '/login', state: { from: location } }} />\n          )\n        }\n      />\n    );\n  }\n  // #endregion\n}\n\nexport default PrivateRoute;\n","// @flow\n\nimport { connect } from 'react-redux';\nimport { bindActionCreators, compose } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport * as userAuthActions from '../../redux/modules/userAuth';\nimport PrivateRoute from './PrivateRoute';\n\n// #region redux map state and dispatch to props\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.userAuth.isAuthenticated,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({ ...userAuthActions }, dispatch);\n};\n// #endregion\n\nexport default compose(\n  // $FlowIgnore\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n  withRouter,\n)(PrivateRoute);\n","// @flow\n\nimport React, { Fragment, useEffect, useRef } from 'react';\nimport {\n  type Match,\n  type Location,\n  type RouterHistory,\n} from 'react-router-dom';\nimport { withRouter } from 'react-router';\n\n// #region flow types\ntype Props = {\n  // react-router 4:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n\n  children: any,\n};\n// #endregion\n\nfunction useScrollToTopOnLocationChange(location: any) {\n  const prevLocation = useRef();\n\n  useEffect(() => {\n    prevLocation.current = location;\n  }, []);\n\n  useEffect(() => {\n    if (prevLocation.current !== location) {\n      window && window.scrollTo(0, 0);\n      prevLocation.current = location;\n    }\n  }, [location]);\n}\n\nfunction ScrollToTop({ children, location }: Props) {\n  useScrollToTopOnLocationChange(location);\n\n  return <Fragment>{children}</Fragment>;\n}\n\nScrollToTop.displayName = 'ScrollToTop';\n\n// $FlowIgnore\nexport default withRouter(ScrollToTop);\n","// @flow\n\nexport const appConfig = Object.freeze({\n  DEV_MODE: true, // block fetch\n\n  // api endpoints:\n  api: {\n    fakeEndPoint: 'api/somewhere',\n    users: 'api/someusersapi',\n  },\n\n  // sw path\n  sw: {\n    path: 'public/assets/sw.js',\n  },\n});\n\nexport default appConfig;\n","// @flow\n\n// #flow types\nexport type Link = {\n  label: string,\n  link: string,\n  view?: string,\n  isRouteBtn?: boolean,\n};\n\nexport type Navigation = {\n  brand: string,\n  leftLinks: Array<Link>,\n  rightLinks: Array<Link>,\n};\n// #endregion\n\nconst navigation = Object.freeze({\n  brand: 'React Redux Bootstrap Starter',\n  leftLinks: [],\n  rightLinks: [\n    {\n      label: 'Home',\n      link: '/',\n    },\n    {\n      label: 'Protected',\n      link: '/protected',\n      view: 'protected',\n      isRouteBtn: true,\n    },\n    {\n      label: 'About',\n      link: '/about',\n      view: 'about',\n      isRouteBtn: true,\n    },\n    // {\n    //   label: 'Disconnect',\n    //   link: '/login',\n    //   view: 'login',\n    //   isRouteBtn: true,\n    // },\n  ],\n});\n\nexport default navigation;\n","// @flow\n\nimport 'babel-polyfill'; // NOTE: REALLY important to avoid \"regeneratorRuntime is not defined\"\nimport React from 'react';\nimport { hydrate, render } from 'react-dom';\nimport { AppContainer } from 'react-hot-loader';\nimport smoothScrollPolyfill from 'smoothscroll-polyfill';\nimport { loadComponents, getState } from 'loadable-components';\n// $FlowIgnore\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Root from './Root';\n\n// #region constants\nconst ELEMENT_TO_BOOTSTRAP = 'root';\nconst bootstrapedElement = document.getElementById(ELEMENT_TO_BOOTSTRAP);\n// #endregion\n\n// #region globals (styles, polyfill ...)\n// smoothscroll polyfill\nsmoothScrollPolyfill.polyfill();\n// force polyfill (even if browser partially implements it)\nwindow.__forceSmoothScrollPolyfill__ = true;\nwindow.snapSaveState = () => getState();\n// #endregion\n\n// #region render (with hot reload if dev)\nconst renderApp = RootComponent => {\n  const Application = () => (\n    <AppContainer>\n      <RootComponent />\n    </AppContainer>\n  );\n\n  // needed for react-snap:\n  // $FlowIgnore\n  if (bootstrapedElement.hasChildNodes()) {\n    // avoid 1st load flickering due to async component loading:\n    loadComponents().then(() => {\n      // $FlowIgnore\n      hydrate(<Application />, bootstrapedElement);\n    });\n  } else {\n    // $FlowIgnore\n    render(<Application />, bootstrapedElement);\n  }\n};\n\nrenderApp(Root);\n\n// $FlowIgnore\nif (module.hot) {\n  module.hot.accept('./Root', () => {\n    const RootComponent = require('./Root').default;\n    renderApp(RootComponent);\n  });\n}\n// #endregion\n","// @flow\n\nimport React, { Fragment, useEffect, useCallback } from 'react';\nimport { withRouter } from 'react-router';\nimport { type Match, type Location, type RouterHistory } from 'react-router';\nimport NavigationBar from '../../components/navigation';\nimport BackToTop from '../../components/backToTop/BackToTop';\nimport navigationModel from '../../config/navigation';\nimport registerServiceWorker from '../../services/sw/registerServiceWorker';\n\n// #region flow types\ntype Props = {\n  // from withRouter HOC:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n\n  children: any,\n};\n// #endregion\n\n// #region MainLayout HOC\nfunction MainLayout({ history, location, match, children }: Props) {\n  // #region on mount effect\n  useEffect(() => {\n    if (typeof window !== undefined) {\n      // register service worker (no worry about multiple attempts to register, browser will ignore when already registered)\n      registerServiceWorker();\n    }\n  }, []);\n  // #endregion\n\n  // #region callbacks\n  /* eslint-disable no-unused-vars*/\n  const handleLeftNavItemClick = useCallback((\n    event: SyntheticEvent<>,\n    viewName: string,\n  ) => {\n    // something to do here?\n  }, []);\n\n  const handleRightNavItemClick = useCallback((\n    event: SyntheticEvent<>,\n    viewName: string,\n  ) => {\n    // something to do here?\n  }, []);\n  // #endregion\n\n  return (\n    <Fragment>\n      <div id=\"appContainer\">\n        <NavigationBar\n          brand={navigationModel.brand}\n          navModel={navigationModel}\n          handleLeftNavItemClick={handleLeftNavItemClick}\n          handleRightNavItemClick={handleRightNavItemClick}\n        />\n        <div className=\"container-fluid\">{children}</div>\n        <BackToTop minScrollY={40} scrollTo={'appContainer'} />\n      </div>\n    </Fragment>\n  );\n}\n\n// $FlowIgnore\nexport default withRouter(MainLayout);\n","// @flow\n\nimport MainLayout from './MainLayout';\n\nexport default MainLayout;\n","// @flow\n\nimport axios from 'axios';\n\n// #region constants\nexport const FETCH_MOCK = 'FETCH_MOCK';\nexport const FETCH = 'FETCH';\n// #endregion\n\n//\n// FETCH_MOCK mode\n// in any action just add fetch object like:\n// {\n//  fetch: {\n//    type: 'FETCH_MOCK',\n//    actionTypes: {\n//      request: 'TYPE_FOR_REQUEST',\n//      success: 'TYPE_FOR_RECEIVED',\n//      fail: 'TYPE_FOR_ERROR',\n//    },\n//    mockResult: any\n//  }\n// }\n//\n\n// FETCH mode\n// in any action just add fetch object like:\n// {\n//  fetch: {\n//    type: 'FETCH',\n//    actionTypes: {\n//      request: 'TYPE_FOR_REQUEST',\n//      success: 'TYPE_FOR_RECEIVED',\n//      fail: 'TYPE_FOR_ERROR',\n//    },\n//    url: 'an url',\n//    method: 'get',  // lower case, one of 'get', 'post'...\n//    headers: {}     // OPTIONAL CONTENT like: data: { someprop: 'value ...}\n//    options: {}     // OPTIONAL CONTENT like: Authorization: 'Bearer _A_TOKEN_'\n//  }\n// }\n//\n//\n//\n//\nconst fetchMiddleware = (store: Object) => (next: Function) => (\n  action: Object,\n) => {\n  if (!action.fetch) {\n    return next(action);\n  }\n\n  if (\n    !action.fetch.type ||\n    !action.fetch.type === FETCH_MOCK ||\n    !action.fetch.type === FETCH\n  ) {\n    return next(action);\n  }\n\n  if (!action.fetch.actionTypes) {\n    return next(action);\n  }\n\n  /**\n   * fetch mock\n   * @type {[type]}\n   */\n  if (action.fetch.type === FETCH_MOCK) {\n    if (!action.fetch.mockResult) {\n      throw new Error(\n        'Fetch middleware require a mockResult payload when type is \"FETCH_MOCK\"',\n      );\n    }\n\n    const {\n      actionTypes: { request, success },\n      mockResult,\n    } = action.fetch;\n\n    // request\n    store.dispatch({ type: request });\n\n    // received successful for mock\n    return Promise.resolve(\n      store.dispatch({\n        type: success,\n        payload: {\n          status: 200,\n          data: mockResult,\n        },\n      }),\n    );\n  }\n\n  if (action.fetch.type === FETCH) {\n    const {\n      actionTypes: { request, success, fail },\n      url,\n      method,\n      headers,\n      options,\n    } = action.fetch;\n\n    // request\n    store.dispatch({ type: request });\n\n    // fetch server (success or fail)\n    // returns a Promise\n    return axios\n      .request({\n        method,\n        url,\n        withCredentials: true,\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          'Acces-Control-Allow-Origin': '*',\n          ...headers,\n        },\n        ...options,\n      })\n      .then(data => store.dispatch({ type: success, payload: data }))\n      .catch(err => {\n        store.dispatch({ type: fail, error: err.response });\n        return Promise.reject(err.response);\n      });\n  }\n  return next(action);\n};\n\nexport default fetchMiddleware;\n","// @flow\n\nimport { format } from 'date-fns';\nimport { type Dispatch } from 'redux';\nimport fakeData from '../../../mock/fakeAPI.json';\nimport appConfig from '../../../config/appConfig';\nimport { getLocationOrigin } from '../../../services/API/fetchTools';\nimport { type State } from './fakeModuleWithFetch.types';\n\n// #region CONSTANTS\nconst REQUEST_FAKE_FETCH = 'REQUEST_FAKE_FETCH';\nconst RECEIVED_FAKE_FETCH = 'RECEIVED_FAKE_FETCH';\nconst ERROR_FAKE_FETCH = 'ERROR_FAKE_FETCH';\n// #endregion\n\n// #region flow types\ntype ActionType =\n  | 'REQUEST_FAKE_FETCH'\n  | 'RECEIVED_FAKE_FETCH'\n  | 'ERROR_FAKE_FETCH';\n\ntype PartialState = $Shape<State>;\n\ntype Action = {\n  type: ActionType,\n\n  isFetching?: boolean,\n  actionTime?: string,\n  data?: { ...any } | Array<any>,\n  error?: { ...any },\n  payload?: Array<any>,\n} & PartialState;\n// #endregion\n\n// #region REDUCER\n\n// #region initial state\nconst initialState: State = {\n  isFetching: false,\n  actionTime: '',\n  data: [],\n  error: {},\n};\n// #endregion\n\n// #region reducer\nexport default function(state: State = initialState, action: Action): State {\n  const currentTime = format(new Date());\n\n  switch (action.type) {\n    // #region request (fake)\n    case REQUEST_FAKE_FETCH: {\n      return {\n        ...state,\n        actionTime: currentTime,\n        isFetching: true,\n      };\n    }\n\n    case RECEIVED_FAKE_FETCH: {\n      return {\n        ...state,\n        actionTime: currentTime,\n        isFetching: false,\n        // $FlowIgnore\n        data: [...action.payload],\n      };\n    }\n\n    case ERROR_FAKE_FETCH: {\n      return {\n        ...state,\n        actionTime: currentTime,\n        isFetching: false,\n        error: action.error ? { ...action.error } : {},\n      };\n    }\n    // #endregion\n\n    default:\n      return state;\n  }\n}\n// #endregion\n\n// #endregion\n\n// #region ACTIONS CREATORS\n\n// #region fetch example\nfunction fakeFetch() {\n  return (dispatch: Dispatch<State>): Promise<any> => {\n    const shouldFetchMock = appConfig.DEV_MODE;\n    const fetchType = shouldFetchMock ? 'FETCH_MOCK' : 'FETCH';\n    const mockResult = fakeData;\n\n    const url = `${getLocationOrigin()}/${appConfig.api.fakeEndPoint}`;\n    const method = 'get';\n    const options = {};\n\n    // fetch middleware\n    // -> you handles pure front or with back-end asyncs just by disaptching a single object\n    //   -> just change config: appConfig.DEV_MODE\n    return Promise.resolve(\n      dispatch({\n        // type name is not important here since fetchMiddleware will intercept this action:\n        type: 'FETCH_MIDDLEWARE',\n        // here are fetch middleware props:\n        fetch: {\n          type: fetchType,\n          actionTypes: {\n            request: REQUEST_FAKE_FETCH,\n            success: RECEIVED_FAKE_FETCH,\n            fail: ERROR_FAKE_FETCH,\n          },\n          // props only used when type = FETCH_MOCK:\n          mockResult,\n          // props only used when type = FETCH:\n          url,\n          method,\n          options,\n        },\n      }),\n    );\n  };\n}\n\nexport function fakeFetchIfNeeded() {\n  return (\n    dispatch: Dispatch<State>,\n    getState: () => { fakeModuleWithFetch: State, ...any },\n  ): Promise<any> => {\n    if (shouldFakeFetch(getState())) {\n      return dispatch(fakeFetch());\n    }\n    return Promise.resolve();\n  };\n}\n\nfunction shouldFakeFetch(state: {\n  fakeModuleWithFetch: State,\n  ...any,\n}): boolean {\n  const { isFetching } = state.fakeModuleWithFetch;\n\n  if (isFetching) {\n    return false;\n  }\n  return true;\n}\n// #endregion\n\n// #endregion\n","// @flow\n\nimport { combineReducers } from 'redux';\nimport fakeModuleWithFetch from './fakeModuleWithFetch';\nimport userAuth from './userAuth';\n\nexport const reducers = {\n  fakeModuleWithFetch,\n  userAuth,\n};\n\n// $FlowIgnore\nexport default combineReducers({\n  ...reducers,\n});\n","// @flow\n\n// #region imports\nimport { format } from 'date-fns';\nimport appConfig from '../../../config/appConfig';\nimport userInfosMockData from '../../../mock/userInfosMock.json';\nimport { getLocationOrigin } from '../../../services/API/fetchTools';\nimport auth from '../../../services/auth';\nimport { type State } from '../../../types/redux/userAuth';\nimport { type Dispatch, type GetState } from '../../../types/redux/redux-thunk';\n// #endregion\n\n// #region CONSTANTS\nconst REQUEST_USER_INFOS_DATA: string = 'REQUEST_USER_INFOS_DATA';\nconst RECEIVED_USER_INFOS_DATA: string = 'RECEIVED_USER_INFOS_DATA';\nconst ERROR_USER_INFOS_DATA: string = 'ERROR_USER_INFOS_DATA';\n\nconst REQUEST_LOG_USER: string = 'REQUEST_LOG_USER';\nconst RECEIVED_LOG_USER: string = 'RECEIVED_LOG_USER';\nconst ERROR_LOG_USER: string = 'ERROR_LOG_USER';\n\nconst CHECK_IF_USER_IS_AUTHENTICATED = 'CHECK_IF_USER_IS_AUTHENTICATED';\n\nconst DISCONNECT_USER = 'DISCONNECT_USER';\n// #endregion\n\n// #region flow types\ntype ActionType =\n  | 'REQUEST_USER_INFOS_DATA'\n  | 'RECEIVED_USER_INFOS_DATA'\n  | 'ERROR_USER_INFOS_DATA'\n  | 'REQUEST_LOG_USER'\n  | 'RECEIVED_LOG_USER'\n  | 'ERROR_LOG_USER'\n  | 'CHECK_IF_USER_IS_AUTHENTICATED'\n  | 'DISCONNECT_USER'\n  | 'FETCH_MIDDLEWARE';\n\ntype PartialState = $Shape<State>;\n\ntype Action = {\n  type: ActionType,\n\n  isFetching?: boolean,\n  actionTime?: string,\n  data?: { ...any } | Array<any>,\n  error?: { ...any },\n  payload?: any,\n} & PartialState;\n// #endregion\n\n// #region REDUCER\n\n// #region initial State\nconst initialState: State = {\n  // actions details\n  isFetching: false,\n  isLogging: false,\n  time: '',\n\n  // userInfos\n  id: '',\n  login: '',\n  firstname: '',\n  lastname: '',\n\n  token: null,\n  isAuthenticated: false, // authentication status (token based auth)\n};\n// #endregion\n\n// #region reducer\nexport default function(state: State = initialState, action: Action): State {\n  const currentTime = format(new Date());\n\n  switch (action.type) {\n    case CHECK_IF_USER_IS_AUTHENTICATED:\n      return {\n        ...state,\n        actionTime: currentTime,\n        isAuthenticated: action.isAuthenticated,\n        token: action.token || initialState.token,\n        id: action.user && action.user.id ? action.user.id : initialState.id,\n        login:\n          action.user && action.user.login\n            ? action.user.login\n            : initialState.login,\n        firstname:\n          action.user && action.user.firstname\n            ? action.user.firstname\n            : initialState.firstname,\n        lastname:\n          action.user && action.user.lastname\n            ? action.user.lastname\n            : initialState.firstname,\n      };\n\n    case DISCONNECT_USER:\n      return {\n        ...state,\n        actionTime: currentTime,\n        isAuthenticated: false,\n        token: initialState.token,\n        id: initialState.id,\n        login: initialState.login,\n        firstname: initialState.firstname,\n        lastname: initialState.lastname,\n      };\n\n    // user login (get token and userInfo)\n    case REQUEST_LOG_USER:\n      return {\n        ...state,\n        actionTime: currentTime,\n        isLogging: true,\n      };\n\n    case RECEIVED_LOG_USER: {\n      const {\n        // $FlowIgnore\n        data: { token, id, login, firstname, lastname },\n      } = action.payload;\n\n      return {\n        ...state,\n        actionTime: currentTime,\n        isAuthenticated: true,\n        token: token,\n        id: id,\n        login: login,\n        firstname: firstname,\n        lastname: lastname,\n        isLogging: false,\n      };\n    }\n\n    case ERROR_LOG_USER:\n      return {\n        ...state,\n        actionTime: currentTime,\n        isAuthenticated: false,\n        isLogging: false,\n      };\n\n    // not used right now:\n    case REQUEST_USER_INFOS_DATA:\n      return {\n        ...state,\n        actionTime: currentTime,\n        isFetching: true,\n      };\n\n    case RECEIVED_USER_INFOS_DATA: {\n      const {\n        // $FlowIgnore\n        data: { userInfos },\n      } = action.payload;\n\n      return {\n        ...state,\n        actionTime: currentTime,\n        isFetching: false,\n        id: userInfos.id,\n        login: userInfos.login,\n        firstname: userInfos.firstname,\n        lastname: userInfos.lastname,\n      };\n    }\n\n    case ERROR_USER_INFOS_DATA:\n      return {\n        ...state,\n        actionTime: currentTime,\n        isFetching: false,\n      };\n\n    default:\n      return state;\n  }\n}\n// #endregion\n\n// #endregion\n\n// #region ACTIONS CREATORS\n\n// #region disconnect user\nexport function disconnectUser(): Action {\n  auth.clearAllAppStorage();\n  return { type: DISCONNECT_USER };\n}\n// #endregion\n\n// #region check if user is connected\nexport function checkUserIsConnected(): Action {\n  const token = auth.getToken();\n  const user = auth.getUserInfo();\n  const checkUserHasId = (obj: any) => obj && (obj.id || false);\n  const isExpired = auth.isExpiredToken(token);\n  const isAuthenticated = token && checkUserHasId(user) ? true : false;\n\n  return {\n    type: CHECK_IF_USER_IS_AUTHENTICATED,\n    token,\n    ...user,\n    isAuthenticated: isAuthenticated && !isExpired,\n  };\n}\n// #endregion\n\n// #region loguser\nfunction logUser(login: string, password: string) {\n  return async (dispatch: Dispatch<Action>): Promise<any> => {\n    const FETCH_TYPE = appConfig.DEV_MODE ? 'FETCH_MOCK' : 'FETCH';\n    const __SOME_LOGIN_API__ = 'login';\n\n    const mockResult = userInfosMockData; // will be fetch_mock data returned (in case FETCH_TYPE = 'FETCH_MOCK', otherwise cata come from server)\n    const url = `${getLocationOrigin()}/${__SOME_LOGIN_API__}`;\n    const method = 'post';\n    const headers = {};\n    const options = {\n      credentials: 'same-origin',\n      data: {\n        login,\n        password,\n      },\n    };\n\n    // fetchMiddleware (does: fetch mock, real fetch, dispatch 3 actions... for a minimum code on action creator!)\n    return dispatch({\n      type: 'FETCH_MIDDLEWARE',\n      fetch: {\n        // common props:\n        type: FETCH_TYPE,\n        actionTypes: {\n          request: REQUEST_LOG_USER,\n          success: RECEIVED_LOG_USER,\n          fail: ERROR_LOG_USER,\n        },\n        // mock fetch props:\n        mockResult,\n        // real fetch props:\n        url,\n        method,\n        headers,\n        options,\n      },\n    });\n  };\n}\n\nexport function logUserIfNeeded(\n  email: string,\n  password: string,\n): (...any) => Promise<any> {\n  return (\n    dispatch: Dispatch<Action>,\n    getState: GetState<{ userAuth: State, ...any }>,\n  ): Promise<any> => {\n    if (shouldLogUser(getState())) {\n      return dispatch(logUser(email, password));\n    }\n    return Promise.resolve();\n  };\n}\nfunction shouldLogUser(state: { userAuth: State, ...any }): boolean {\n  const { isLogging } = state.userAuth;\n\n  if (isLogging) {\n    return false;\n  }\n  return true;\n}\n// #endregion\n\nfunction fetchUserInfosData(id: string = '') {\n  return async (dispatch: Dispatch<Action>) => {\n    const token = auth.getToken();\n    const {\n      DEV_MODE,\n      api: { users },\n    } = appConfig;\n    const FETCH_TYPE = DEV_MODE ? 'FETCH_MOCK' : 'FETCH';\n\n    const mockResult = userInfosMockData; // will be fetch_mock data returned (in case FETCH_TYPE = 'FETCH_MOCK', otherwise cata come from server)\n    const url = `${getLocationOrigin()}/${users}/${id}`;\n    const method = 'get';\n    const headers = { authorization: `Bearer ${token || ''}` };\n    const options = { credentials: 'same-origin' }; // put options here (see axios options)\n\n    return dispatch({\n      type: 'FETCH_MIDDLEWARE',\n      fetch: {\n        // common props:\n        type: FETCH_TYPE,\n        actionTypes: {\n          request: REQUEST_USER_INFOS_DATA,\n          success: RECEIVED_USER_INFOS_DATA,\n          fail: ERROR_USER_INFOS_DATA,\n        },\n        // mock fetch props:\n        mockResult,\n        // real fetch props:\n        url,\n        method,\n        headers,\n        options,\n      },\n    });\n  };\n}\n\nexport function fetchUserInfoDataIfNeeded(id: string = '') {\n  return (\n    dispatch: (Dispatch<Action>) => any,\n    getState: () => { userAuth: State, ...any },\n  ) => {\n    if (shouldFetchUserInfoData(getState())) {\n      // $FlowIgnore\n      return dispatch(fetchUserInfosData(id));\n    }\n    return Promise.resolve();\n  };\n}\n\nfunction shouldFetchUserInfoData(state: { userAuth: State, ...any }): boolean {\n  const { isFetching } = state.userAuth;\n\n  if (isFetching) {\n    return false;\n  }\n  return true;\n}\n","import { createStore, applyMiddleware } from 'redux';\nimport { createLogger } from 'redux-logger';\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { createBrowserHistory as createHistory } from 'history';\nimport { persistReducer, persistStore } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport thunkMiddleware from 'redux-thunk';\nimport reducer from '../modules/reducers';\nimport fetchMiddleware from '../middleware/fetchMiddleware';\n\n// #region constants\nexport const history = createHistory();\n// #endregion\n\n// #region createStore : enhancer\n\n// #region logger middleware (dev only)\nconst loggerMiddleware = createLogger({\n  level: 'info',\n  collapsed: true,\n});\n// #endregion\n\nconst enhancer = composeWithDevTools(\n  applyMiddleware(\n    thunkMiddleware,\n    routerMiddleware(history),\n    fetchMiddleware,\n    loggerMiddleware, // logger at the end\n  ),\n);\n// #endregion\n\n// #region persisted reducer\nconst persistConfig = {\n  key: 'root',\n  storage,\n  blacklist: ['router'],\n  // whitelist: ['userAuth'],\n};\n\nconst persistedReducer = persistReducer(\n  persistConfig,\n  connectRouter(history)(reducer),\n);\n// #endregion\n\nexport default function configureStore(initialState: any = {}) {\n  const store = createStore(persistedReducer, initialState, enhancer);\n\n  // @ts-ignore\n  if (module.hot) {\n    // @ts-ignore\n    module.hot.accept('../modules/reducers', () =>\n      store.replaceReducer(require('../modules/reducers').default),\n    );\n  }\n\n  const persistor = persistStore(store);\n  return { store, persistor };\n}\n","/* eslint no-process-env:0 */\nlet configureStore = null;\nif (process.env.NODE_ENV === 'production') {\n  configureStore = require('./configureStore.prod').default;\n} else {\n  configureStore = require('./configureStore.dev').default;\n}\n\nexport default configureStore;\n","// @flow\n\nimport React from 'react';\nimport { Route, Switch } from 'react-router';\nimport { Home, About, PageNotFound, Protected, Login } from './routes';\nimport LogoutRoute from '../components/logoutRoute';\nimport PrivateRoute from '../components/privateRoute';\n\nconst MainRoutes = () => {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route path=\"/about\" component={About} />\n      <PrivateRoute path=\"/protected\" component={Protected} />\n      <Route exact path=\"/login\" component={Login} />\n      <LogoutRoute path=\"/logout\" />\n      <Route path=\"*\" component={PageNotFound} />\n    </Switch>\n  );\n};\n\nexport default MainRoutes;\n","// @flow\n\nimport loadable from 'loadable-components';\n\nexport const Home = loadable(() => import('../pages/home'));\nexport const About = loadable(() => import('../pages/about'));\nexport const Login = loadable(() => import('../pages/login'));\nexport const Protected = loadable(() => import('../pages/protected'));\nexport const PageNotFound = loadable(() => import('../pages/pageNotFound'));\nexport const PrivateRoute = loadable(() =>\n  import('../components/privateRoute/PrivateRoute'),\n);\n","// @flow\n\n// #region imports\nimport { Base64 } from 'js-base64';\n// #endregion\n\n// #region  window.location.origin polyfill\nexport const getLocationOrigin = (): string => {\n  if (!window.location.origin) {\n    window.location.origin = `${window.location.protocol}//${\n      window.location.hostname\n    }${window.location.port ? ':' + window.location.port : ''}`;\n  }\n  return window.location.origin;\n};\n// #endregion\n\n// #region query options:\nexport const getMethod = {\n  method: 'get',\n};\n\nexport const postMethod = {\n  method: 'post',\n};\n\nexport const defaultOptions = {\n  credentials: 'same-origin',\n};\n\nexport const jsonHeader = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    // 'Access-control-Allow-Origin': '*'\n  },\n};\n// #endregion\n\n// #region general helpers\nexport const encodeBase64 = (stringToEncode: string = ''): string => {\n  return Base64.encode(stringToEncode);\n};\n// #endregion\n","// @flow\n\nimport {\n  type Storage,\n  type TokenKey,\n  type UserInfoKey,\n  type STORES_TYPES,\n} from '../../types/auth';\nimport decode from 'jwt-decode';\nimport isAfter from 'date-fns/is_after';\n\n// #region constants\nconst TOKEN_KEY = 'token';\nconst USER_INFO = 'userInfo';\n\nconst APP_PERSIST_STORES_TYPES: Array<STORES_TYPES> = [\n  'localStorage',\n  'sessionStorage',\n];\n\nconst parse = JSON.parse;\nconst stringify = JSON.stringify;\n// #endregion\n\n/*\n  auth object\n  -> store \"TOKEN_KEY\"\n  - default storage is \"localStorage\"\n  - default token key is 'token'\n */\nexport const auth = {\n  // /////////////////////////////////////////////////////////////\n  // TOKEN\n  // /////////////////////////////////////////////////////////////\n\n  /**\n   * get token from localstorage\n   *\n   * @param {'localStorage' | 'sessionStorage'} [fromStorage='localStorage'] specify storage\n   * @param {any} [tokenKey=TOKEN_KEY]  optionnal parameter to specify a token key\n   * @returns {string} token value\n   */\n  getToken(\n    fromStorage: Storage = APP_PERSIST_STORES_TYPES[0],\n    tokenKey: TokenKey = TOKEN_KEY,\n  ): ?string {\n    // localStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[0]) {\n      return (localStorage && localStorage.getItem(tokenKey)) || null;\n    }\n    // sessionStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[1]) {\n      return (sessionStorage && sessionStorage.getItem(tokenKey)) || null;\n    }\n    // default:\n    return null;\n  },\n\n  /**\n   * set the token value into localstorage (managed by localforage)\n   *\n   * @param {string} [value=''] token value\n   * @param {'localStorage' | 'sessionStorage'} [toStorage='localStorage'] specify storage\n   * @param {any} [tokenKey='token'] token key\n   * @returns {boolean} success/failure flag\n   */\n  setToken(\n    value: string = '',\n    toStorage: Storage = APP_PERSIST_STORES_TYPES[0],\n    tokenKey: TokenKey = TOKEN_KEY,\n  ): void {\n    if (!value || value.length <= 0) {\n      return;\n    }\n    // localStorage:\n    if (toStorage === APP_PERSIST_STORES_TYPES[0]) {\n      if (localStorage) {\n        localStorage.setItem(tokenKey, value);\n        return;\n      }\n    }\n    // sessionStorage:\n    if (toStorage === APP_PERSIST_STORES_TYPES[1]) {\n      if (sessionStorage) {\n        sessionStorage.setItem(tokenKey, value);\n        return;\n      }\n    }\n  },\n\n  /**\n   * check\n   * - if token key contains a valid token value (defined and not an empty value)\n   * - if the token expiration date is passed\n   *\n   *\n   * Note: 'isAuthenticated' just checks 'tokenKey' on store (localStorage by default or sessionStorage)\n   *\n   * You may think: 'ok I just put an empty token key and I have access to protected routes?''\n   *    -> answer is:  YES^^\n   * BUT\n   * -> : your backend will not recognize a wrong token so private data or safe and you protected view could be a bit ugly without any data.\n   *\n   * => ON CONCLUSION: this aim of 'isAuthenticated'\n   *    -> is to help for a better \"user experience\"  (= better than displaying a view with no data since server did not accept the user).\n   *    -> it is not a security purpose (security comes from backend, since frontend is easily hackable => user has access to all your frontend)\n   *\n   * @param {'localStorage' | 'sessionStorage'} [fromStorage='localStorage'] specify storage\n   * @param {any} [tokenKey=TOKEN_KEY] token key\n   * @returns {bool} is authenticed response\n   */\n  isAuthenticated(\n    fromStorage: Storage = APP_PERSIST_STORES_TYPES[0],\n    tokenKey: TokenKey = TOKEN_KEY,\n  ): boolean {\n    // localStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[0]) {\n      if (localStorage && localStorage.getItem(tokenKey)) {\n        return true;\n      }\n      return false;\n    }\n\n    // sessionStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[1]) {\n      if (sessionStorage && sessionStorage.getItem(tokenKey)) {\n        return true;\n      }\n      return false;\n    }\n\n    // default:\n    return false;\n  },\n\n  /**\n   * delete token\n   *\n   * @param {any} [tokenKey='token'] token key\n   * @returns {bool} success/failure flag\n   */\n  clearToken(\n    storage: Storage = APP_PERSIST_STORES_TYPES[0],\n    tokenKey: TokenKey = TOKEN_KEY,\n  ): boolean {\n    // localStorage:\n    if (localStorage && localStorage[tokenKey]) {\n      localStorage.removeItem(tokenKey);\n      return true;\n    }\n    // sessionStorage:\n    if (sessionStorage && sessionStorage[tokenKey]) {\n      sessionStorage.removeItem(tokenKey);\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\n   * return expiration date from token\n   *\n   * @param {string} encodedToken - base 64 token received from server and stored in local storage\n   * @returns {date | null} returns expiration date or null id expired props not found in decoded token\n   */\n  getTokenExpirationDate(encodedToken: any): Date {\n    if (!encodedToken) {\n      return new Date(0); // is expired\n    }\n\n    const token = decode(encodedToken);\n    if (!token.exp) {\n      return new Date(0); // is expired\n    }\n\n    const expirationDate = new Date(token.exp * 1000);\n    return expirationDate;\n  },\n\n  /**\n   * tell is token is expired (compared to now)\n   *\n   * @param {string} encodedToken - base 64 token received from server and stored in local storage\n   * @returns {bool} returns true if expired else false\n   */\n  isExpiredToken(encodedToken: any): boolean {\n    const expirationDate = this.getTokenExpirationDate(encodedToken);\n    const rightNow = new Date();\n    const isExpiredToken = isAfter(rightNow, expirationDate);\n\n    return isExpiredToken;\n  },\n\n  // /////////////////////////////////////////////////////////////\n  // USER_INFO\n  // /////////////////////////////////////////////////////////////\n  /**\n   * get user info from localstorage\n   *\n   * @param {'localStorage' | 'sessionStorage'} [fromStorage='localStorage'] specify storage\n   * @param {any} [userInfoKey='userInfo']  optionnal parameter to specify a token key\n   * @returns {string} token value\n   */\n  getUserInfo(\n    fromStorage: Storage = APP_PERSIST_STORES_TYPES[0],\n    userInfoKey: UserInfoKey = USER_INFO,\n  ): any {\n    // localStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[0]) {\n      // $FlowIgnore\n      return (localStorage && parse(localStorage.getItem(userInfoKey))) || null;\n    }\n    // sessionStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[1]) {\n      return (\n        // $FlowIgnore\n        (sessionStorage && parse(sessionStorage.getItem(userInfoKey))) || null\n      );\n    }\n    // default:\n    return null;\n  },\n\n  /**\n   * set the userInfo value into localstorage\n   *\n   * @param {object} [value=''] token value\n   * @param {'localStorage' | 'sessionStorage'} [toStorage='localStorage'] specify storage\n   * @param {any} [userInfoKey='userInfo'] token key\n   * @returns {boolean} success/failure flag\n   */\n  setUserInfo(\n    value: string = '',\n    toStorage: Storage = APP_PERSIST_STORES_TYPES[0],\n    userInfoKey: UserInfoKey = USER_INFO,\n  ): any {\n    if (!value || value.length <= 0) {\n      return;\n    }\n\n    // localStorage:\n    if (toStorage === APP_PERSIST_STORES_TYPES[0]) {\n      if (localStorage) {\n        localStorage.setItem(userInfoKey, stringify(value));\n        return;\n      }\n    }\n\n    // sessionStorage:\n    if (toStorage === APP_PERSIST_STORES_TYPES[1]) {\n      if (sessionStorage) {\n        sessionStorage.setItem(userInfoKey, stringify(value));\n        return;\n      }\n    }\n  },\n\n  /**\n   * delete userInfo\n   *\n   * @param {string} [userInfoKey='userInfo'] token key\n   * @returns {bool} success/failure flag\n   */\n  clearUserInfo(userInfoKey: UserInfoKey = USER_INFO): any {\n    // localStorage:\n    if (localStorage && localStorage[userInfoKey]) {\n      localStorage.removeItem(userInfoKey);\n      return;\n    }\n\n    // sessionStorage:\n    if (sessionStorage && sessionStorage[userInfoKey]) {\n      sessionStorage.removeItem(userInfoKey);\n      return;\n    }\n  },\n\n  // /////////////////////////////////////////////////////////////\n  // COMMON\n  // /////////////////////////////////////////////////////////////\n\n  /**\n   * forget me method: clear all\n   * @returns {bool} success/failure flag\n   */\n  clearAllAppStorage(): any {\n    if (localStorage) {\n      localStorage.clear();\n      return;\n    }\n\n    if (sessionStorage) {\n      sessionStorage.clear();\n      return;\n    }\n  },\n};\n\nexport default auth;\n","// @flow\n\nimport appConfig from '../../config/appConfig';\n\n// #region constants\nconst { path: swPath } = appConfig.sw;\n// #endregion\n\nfunction registerServiceWorker(): void {\n  if (typeof window !== undefined) {\n    if ('serviceWorker' in navigator) {\n      window.addEventListener('load', () => {\n        // $FlowIgnore\n        navigator.serviceWorker\n          .register(swPath)\n          .then(registration => {\n            console.log('SW registered: ', registration);\n          })\n          .catch(registrationError => {\n            console.log('SW registration failed: ', registrationError);\n          });\n      });\n    }\n  }\n}\n\nexport default registerServiceWorker;\n","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n  html, body {\n    margin: 0;\n    height: 100%;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  a {\n    text-decoration: none;\n    color: inherit;\n    &:hover {\n      text-decoration: none;\n    }\n  }\n`;\n\nexport default GlobalStyle;\n"],"sourceRoot":""}